{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/aloye/Documents/adeyemi_frontend/hooks/useAuth.tsx"],"sourcesContent":["\"use client\";\nimport { useState } from \"react\";\n\nexport default function useAuth() {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const API_ENDPOINT = process.env.NEXT_PUBLIC_API_ENDPOINT;\n\n  const request = async (path: string, data: any) => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      const response = await fetch(`${API_ENDPOINT}/user/${path}`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(data),\n      });\n\n      const result = await response.json();\n\n      if (!response.ok) {\n        throw new Error(result?.message || \"Something went wrong\");\n      }\n      console.log(result)\n\n      return result;\n    } catch (err: any) {\n      setError(err.message || \"Failed to connect\");\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const login = async (payload: any) => request(\"signin\", payload);\n  const signup = async (payload: any) => request(\"signup\", payload);\n\n  return { login, signup, loading, error };\n}\n"],"names":[],"mappings":";;;AACA;AAMuB;;AAPvB;;AAGe,SAAS;;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAElD,MAAM;IAEN,MAAM,UAAU,OAAO,MAAc;QACnC,WAAW;QACX,SAAS;QAET,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,GAAG,aAAa,MAAM,EAAE,MAAM,EAAE;gBAC3D,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;YACvB;YAEA,MAAM,SAAS,MAAM,SAAS,IAAI;YAElC,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM,QAAQ,WAAW;YACrC;YACA,QAAQ,GAAG,CAAC;YAEZ,OAAO;QACT,EAAE,OAAO,KAAU;YACjB,SAAS,IAAI,OAAO,IAAI;YACxB,MAAM;QACR,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,QAAQ,OAAO,UAAiB,QAAQ,UAAU;IACxD,MAAM,SAAS,OAAO,UAAiB,QAAQ,UAAU;IAEzD,OAAO;QAAE;QAAO;QAAQ;QAAS;IAAM;AACzC;GArCwB"}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///home/aloye/Documents/adeyemi_frontend/lib/auth.ts"],"sourcesContent":["// lib/auth.ts\nexport function loginAs(role: string, token: string, name : string, matric_no: string) {\n  localStorage.setItem(\"role\", role);\n  localStorage.setItem(\"access_token\", token)\n  localStorage.setItem(\"name\", name)\n  localStorage.setItem(\"matric_no\", matric_no || \"MAT/23__MOCK__\")\n\n\n\n\n  // window.location.href = \"/dashboard\";\n}\n\nexport function getUserRole() {\n  return localStorage.getItem(\"role\");\n}\n\nexport function logout() {\n  localStorage.removeItem(\"role\");\n  window.location.href = \"/\";\n}\n"],"names":[],"mappings":"AAAA,cAAc;;;;;;AACP,SAAS,QAAQ,IAAY,EAAE,KAAa,EAAE,IAAa,EAAE,SAAiB;IACnF,aAAa,OAAO,CAAC,QAAQ;IAC7B,aAAa,OAAO,CAAC,gBAAgB;IACrC,aAAa,OAAO,CAAC,QAAQ;IAC7B,aAAa,OAAO,CAAC,aAAa,aAAa;AAK/C,uCAAuC;AACzC;AAEO,SAAS;IACd,OAAO,aAAa,OAAO,CAAC;AAC9B;AAEO,SAAS;IACd,aAAa,UAAU,CAAC;IACxB,OAAO,QAAQ,CAAC,IAAI,GAAG;AACzB"}},
    {"offset": {"line": 86, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 92, "column": 0}, "map": {"version":3,"sources":["file:///home/aloye/Documents/adeyemi_frontend/hooks/useNotification.tsx"],"sourcesContent":["'use client';\n\nimport { useContext } from 'react';\nimport { NotificationContext } from '../context/NotificationContext';\n\nexport const useNotifications = () => {\n  const context = useContext(NotificationContext);\n  if (!context) {\n    throw new Error('useNotifications must be used within NotificationContextProvider');\n  }\n  return context;\n};"],"names":[],"mappings":";;;AAEA;AACA;;AAHA;;;AAKO,MAAM,mBAAmB;;IAC9B,MAAM,UAAU,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE,kIAAA,CAAA,sBAAmB;IAC9C,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;GANa"}},
    {"offset": {"line": 113, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 119, "column": 0}, "map": {"version":3,"sources":["file:///home/aloye/Documents/adeyemi_frontend/app/login/page.tsx"],"sourcesContent":["\"use client\";\nimport { useState, useEffect } from \"react\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport useAuth from \"@/hooks/useAuth\";\nimport { loginAs } from \"@/lib/auth\";\nimport { useNotifications } from \"@/hooks/useNotification\";\n\nexport default function LoginPage() {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const { login, loading, error } = useAuth();\n  const { addNotification } = useNotifications();\n\n  const [email, set_email] = useState(\"\");\n  const [password, set_password] = useState(\"\");\n  const [error_message, set_error_message] = useState(\"\");\n  const [role, set_role] = useState<\"student\" | \"lecturer\" | \"admin\">(\"student\");\n\n  useEffect(() => {\n    const roleFromUrl = searchParams.get(\"role\");\n    if ([\"student\", \"lecturer\", \"admin\"].includes(roleFromUrl || \"\")) {\n      set_role(roleFromUrl as \"student\" | \"lecturer\" | \"admin\");\n    }\n  }, [searchParams]);\n\n  const handle_submit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (loading) return;\n\n    if (!email.trim() || !password.trim()) {\n      set_error_message(\"Please fill in all fields.\");\n      return;\n    }\n\n    set_error_message(\"\");\n\n    try {\n      const payload = { email, password };\n      const data = await login(payload);\n\n      loginAs(\n        data?.user.role || \"user\",\n        data?.user?.token,\n        data?.user?.name,\n        data?.user?.matric_no || \"SET/23/__MOCK__\"\n      );\n\n      switch (data?.user.role) {\n        case \"student\":\n          router.push(\"/dashboard/student\");\n          break;\n        case \"lecturer\":\n          router.push(\"/dashboard/lecturer\");\n          break;\n        case \"admin\":\n          router.push(\"/dashboard/admin\");\n          break;\n        default:\n          router.push(\"/dashboard/student\");\n          break;\n      }\n    } catch (err) {\n      addNotification({ message: error, variant: \"error\" });\n      error && set_error_message(error);\n    }\n  };\n\n  const get_label = () => {\n    switch (role) {\n      case \"lecturer\":\n        return \"Lecturer ID\";\n      case \"admin\":\n        return \"Admin ID\";\n      default:\n        return \"Matric No\";\n    }\n  };\n\n  return (\n    <div className=\"flex items-center justify-center min-h-screen bg-[#F9FAFB] p-4\">\n      <div className=\"bg-white p-8 rounded-2xl shadow-lg w-full max-w-md\">\n        {/* UNIVERSITY HEADER */}\n        <div className=\"flex flex-col items-center mb-6\">\n          <img\n            src=\"/logo.png\"\n            alt=\"AFUED Logo\"\n            className=\"w-16 h-16 mb-2 rounded-full\"\n          />\n          <h1 className=\"text-2xl font-bold text-[#0B3D2E] text-center\">\n            Adeyemi Federal University of Education\n          </h1>\n          <p className=\"text-sm text-gray-500 text-center mt-1\">\n            Official Portal Login\n          </p>\n        </div>\n\n        <form onSubmit={handle_submit} className=\"space-y-4\">\n          {/* ROLE SELECT */}\n          <div>\n            <label className=\"block text-sm text-gray-700 mb-1\">Role</label>\n            <select\n              value={role}\n              onChange={(e) =>\n                set_role(e.target.value as \"student\" | \"lecturer\" | \"admin\")\n              }\n              className=\"w-full border border-[#D1D5DB] rounded-lg p-2 focus:ring-2 focus:ring-[#0B3D2E] outline-none\"\n            >\n              <option value=\"student\">Student</option>\n              <option value=\"lecturer\">Lecturer</option>\n              <option value=\"admin\">Admin</option>\n            </select>\n          </div>\n\n          {/* EMAIL / ID FIELD */}\n          <div>\n            <label className=\"block text-sm text-gray-700 mb-1\">\n              {get_label()}\n            </label>\n            <input\n              name=\"email\"\n              type=\"text\"\n              value={email}\n              onChange={(e) => set_email(e.target.value)}\n              placeholder={`Enter your ${get_label()}`}\n              className=\"w-full border border-[#D1D5DB] rounded-lg p-2 focus:ring-2 focus:ring-[#0B3D2E] outline-none\"\n            />\n            <p className=\"text-xs text-gray-400 mt-1\">\n              {role === \"student\"\n                ? \"Example: SET/23/001\"\n                : role === \"lecturer\"\n                ? \"Example: LEC-045\"\n                : \"Example: ADM-001\"}\n            </p>\n          </div>\n\n          {/* PASSWORD FIELD */}\n          <div>\n            <label className=\"block text-sm text-gray-700 mb-1\">Password</label>\n            <input\n              name=\"password\"\n              type=\"password\"\n              value={password}\n              onChange={(e) => set_password(e.target.value)}\n              placeholder=\"Enter your password\"\n              className=\"w-full border border-[#D1D5DB] rounded-lg p-2 focus:ring-2 focus:ring-[#0B3D2E] outline-none\"\n            />\n          </div>\n\n          {/* ERROR MESSAGE */}\n          {(error_message || error) && (\n            <div className=\"text-sm text-red-600\">{error_message || error}</div>\n          )}\n\n          {/* SUBMIT BUTTON */}\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className={`w-full py-2 rounded-lg text-white font-semibold transition flex items-center justify-center gap-2 ${\n              loading\n                ? \"bg-[#0B3D2E]/70 cursor-not-allowed\"\n                : \"bg-[#0B3D2E] hover:bg-[#11543E]\"\n            }`}\n          >\n            {loading ? (\n              <>\n                <svg\n                  className=\"animate-spin h-5 w-5 text-white\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <circle\n                    className=\"opacity-25\"\n                    cx=\"12\"\n                    cy=\"12\"\n                    r=\"10\"\n                    stroke=\"currentColor\"\n                    strokeWidth=\"4\"\n                  ></circle>\n                  <path\n                    className=\"opacity-75\"\n                    fill=\"currentColor\"\n                    d=\"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z\"\n                  ></path>\n                </svg>\n                <span>Logging in...</span>\n              </>\n            ) : (\n              <span>Login</span>\n            )}\n          </button>\n\n          {/* FOOTER */}\n          <p className=\"text-sm text-center text-gray-500 mt-3\">\n            Don’t have an account?{\" \"}\n            <a href=\"/signup\" className=\"text-[#0B3D2E] font-semibold\">\n              Sign up\n            </a>\n          </p>\n        </form>\n\n        <footer className=\"text-center text-xs text-gray-400 mt-6\">\n          © {new Date().getFullYear()} AFUED Portal — All Rights Reserved\n        </footer>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 496, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 506, "column": 0}, "map": {"version":3,"sources":["file:///home/aloye/Documents/adeyemi_frontend/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0]}},
    {"offset": {"line": 507, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}