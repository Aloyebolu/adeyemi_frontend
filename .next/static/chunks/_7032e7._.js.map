{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/aloye/Documents/adeyemi_frontend/lib/utils/cn.tsx"],"sourcesContent":["import { clsx } from \"clsx\";\nimport { twMerge } from \"tailwind-merge\";\n\nexport function cn(...inputs: any[]) {\n  return twMerge(clsx(inputs));\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAa;IACjC,OAAO,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EAAE;AACtB"}},
    {"offset": {"line": 20, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///home/aloye/Documents/adeyemi_frontend/components/ui/Card.tsx"],"sourcesContent":["import React from \"react\";\nimport { cn } from \"@/lib/utils\"; // optional utility for combining classNames\n\n// 🟢 Card Wrapper\nexport const Card = ({ className, children, ...props }) => {\n  return (\n    <div\n      className={cn(\n        \"rounded-2xl border border-gray-200 bg-white shadow-sm transition-all hover:shadow-md dark:bg-gray-900 dark:border-gray-700\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </div>\n  );\n};\n\n// 🟣 Card Content\nexport const CardContent = ({ className, children, ...props }) => {\n  return (\n    <div className={cn(\"p-4 md:p-6\", className)} {...props}>\n      {children}\n    </div>\n  );\n};\n"],"names":[],"mappings":";;;;;AACA,iQAAkC,4CAA4C;AAA9E;;;AAGO,MAAM,OAAO,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO;IACpD,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,8HACA;QAED,GAAG,KAAK;kBAER;;;;;;AAGP;KAZa;AAeN,MAAM,cAAc,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO;IAC3D,qBACE,6LAAC;QAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,cAAc;QAAa,GAAG,KAAK;kBACnD;;;;;;AAGP;MANa"}},
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 91, "column": 0}, "map": {"version":3,"sources":["file:///home/aloye/Documents/adeyemi_frontend/components/ui/Input.tsx"],"sourcesContent":["import React from 'react';\n\ninterface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {}\n\nexport const Input: React.FC<InputProps> = ({ ...props }) => {\n  return <input className=\"border border-gray-300 p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500\" {...props} />;\n};\n"],"names":[],"mappings":";;;;;AAIO,MAAM,QAA8B,CAAC,EAAE,GAAG,OAAO;IACtD,qBAAO,6LAAC;QAAM,WAAU;QAAiG,GAAG,KAAK;;;;;;AACnI;KAFa"}},
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 118, "column": 0}, "map": {"version":3,"sources":["file:///home/aloye/Documents/adeyemi_frontend/app/%28dashboard%29/dashboard/admin/transcripts/page.tsx"],"sourcesContent":["\"use client\";\nimport { useState, useEffect } from \"react\";\nimport { Card, CardContent } from \"@/components/ui/Card\";\nimport { Button } from \"@/components/ui/Button\";\nimport { Input } from \"@/components/ui/Input\";\nimport { Label } from \"@/components/ui/label\";\nimport { FileText, Search, CheckCircle, XCircle, Download } from \"lucide-react\";\nimport theme from \"@/styles/theme\";\nimport { usePage } from \"@/hooks/usePage\";\n\n/**\n * Admin Transcript Requests Page\n * Consumes: theme.colors.primary, accent, surfaceElevated, textOnPrimary\n */\nexport default function AdminTranscriptsPage() {\n  const [requests, setRequests] = useState<any[]>([]);\n  const [search, setSearch] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const token = typeof window !== \"undefined\" ? localStorage.getItem(\"token\") : null;\n  const {setPage} = usePage()\n\n  // 🔹 Fetch transcript requests\n  const fetchRequests = async () => {\n    try {\n      const res = await fetch(\"/api/transcripts\", {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      const data = await res.json();\n      setRequests(data || []);\n    } catch (err) {\n      console.error(err);\n      setRequests([]);\n    }\n  };\n\n  useEffect(() => {\n    setPage(\"Transcript Requests\")\n    fetchRequests();\n  }, []);\n\n  // 🔹 Approve transcript\n  const handleApprove = async (id: string) => {\n    if (!confirm(\"Approve this transcript request?\")) return;\n    setLoading(true);\n    try {\n      const res = await fetch(`/api/transcripts/${id}/approve`, {\n        method: \"PATCH\",\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      if (!res.ok) throw new Error(\"Failed to approve transcript\");\n      alert(\"Transcript approved successfully ✅\");\n      fetchRequests();\n    } catch (err) {\n      console.error(err);\n      alert(\"Error approving transcript\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 🔹 Reject transcript\n  const handleReject = async (id: string) => {\n    if (!confirm(\"Reject this transcript request?\")) return;\n    setLoading(true);\n    try {\n      const res = await fetch(`/api/transcripts/${id}/reject`, {\n        method: \"PATCH\",\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      if (!res.ok) throw new Error(\"Failed to reject transcript\");\n      alert(\"Transcript rejected ❌\");\n      fetchRequests();\n    } catch (err) {\n      console.error(err);\n      alert(\"Error rejecting transcript\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // 🔹 Generate / Download PDF\n  const handleDownload = async (id: string) => {\n    try {\n      const res = await fetch(`/api/transcripts/${id}/pdf`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      const blob = await res.blob();\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement(\"a\");\n      a.href = url;\n      a.download = `Transcript_${id}.pdf`;\n      a.click();\n      window.URL.revokeObjectURL(url);\n    } catch (err) {\n      console.error(err);\n      alert(\"Error generating transcript PDF\");\n    }\n  };\n\n  // 🔹 Search filter\n  const filtered = requests.filter(\n    (r) =>\n      r.studentName.toLowerCase().includes(search.toLowerCase()) ||\n      r.matricNo.toLowerCase().includes(search.toLowerCase())\n  );\n\n  return (\n    <main className=\"max-w-6xl mx-auto  min-h-screen\">\n\n      {/* Search */}\n      <div className=\"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3\">\n        <div className=\"relative w-full sm:w-80\">\n          <Search className=\"absolute left-3 top-2.5 h-4 w-4 text-gray-400\" />\n          <Input\n            className=\"pl-9\"\n            placeholder=\"Search by name or matric no...\"\n            value={search}\n            onChange={(e) => setSearch(e.target.value)}\n          />\n        </div>\n      </div>\n\n      {/* Requests Table */}\n      <Card className=\"rounded-xl shadow-md\">\n        <CardContent className=\"p-4\">\n          {filtered.length === 0 ? (\n            <p className=\"text-gray-500 text-sm\">No transcript requests found.</p>\n          ) : (\n            <div className=\"overflow-x-auto\">\n              <table className=\"min-w-full border text-sm\">\n                <thead className=\"bg-surfaceElevated border-b\">\n                  <tr className=\"text-left\">\n                    <th className=\"p-2\">Student</th>\n                    <th className=\"p-2\">Matric No</th>\n                    <th className=\"p-2\">Department</th>\n                    <th className=\"p-2\">Status</th>\n                    <th className=\"p-2 text-center\">Actions</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {filtered.map((req, idx) => (\n                    <tr\n                      key={req._id || idx}\n                      className=\"border-b hover:bg-gray-50 transition\"\n                    >\n                      <td className=\"p-2\">{req.studentName}</td>\n                      <td className=\"p-2\">{req.matricNo}</td>\n                      <td className=\"p-2\">{req.department}</td>\n                      <td className=\"p-2 capitalize\">{req.status}</td>\n                      <td className=\"p-2 text-center flex justify-center gap-2\">\n                        {req.status === \"pending\" && (\n                          <>\n                            <button\n                              className=\"inline-flex items-center px-2 py-1 text-xs border rounded-md text-green-600 border-green-400\"\n                              onClick={() => handleApprove(req._id)}\n                            >\n                              <CheckCircle size={14} className=\"mr-1\" /> Approve\n                            </button>\n                            <button\n                              className=\"inline-flex items-center px-2 py-1 text-xs border rounded-md text-red-600 border-red-400\"\n                              onClick={() => handleReject(req._id)}\n                            >\n                              <XCircle size={14} className=\"mr-1\" /> Reject\n                            </button>\n                          </>\n                        )}\n                        {req.status === \"approved\" && (\n                          <button\n                            className=\"inline-flex items-center px-2 py-1 text-xs border rounded-md text-primary border-primary\"\n                            onClick={() => handleDownload(req._id)}\n                          >\n                            <Download size={14} className=\"mr-1\" /> Download PDF\n                          </button>\n                        )}\n                        {req.status === \"rejected\" && (\n                          <span className=\"text-gray-400 italic\">Rejected</span>\n                        )}\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </CardContent>\n      </Card>\n    </main>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 502, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}