{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/aloye/Documents/adeyemi_frontend/lib/auth.ts"],"sourcesContent":["// lib/auth.ts\nexport function loginAs(role: string) {\n  localStorage.setItem(\"role\", role);\n  window.location.href = \"/dashboard\";\n}\n\nexport function getUserRole() {\n  return localStorage.getItem(\"role\");\n}\n\nexport function logout() {\n  localStorage.removeItem(\"role\");\n  window.location.href = \"/\";\n}\n"],"names":[],"mappings":"AAAA,cAAc;;;;;;AACP,SAAS,QAAQ,IAAY;IAClC,aAAa,OAAO,CAAC,QAAQ;IAC7B,OAAO,QAAQ,CAAC,IAAI,GAAG;AACzB;AAEO,SAAS;IACd,OAAO,aAAa,OAAO,CAAC;AAC9B;AAEO,SAAS;IACd,aAAa,UAAU,CAAC;IACxB,OAAO,QAAQ,CAAC,IAAI,GAAG;AACzB"}},
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file:///home/aloye/Documents/adeyemi_frontend/app/login/page.tsx"],"sourcesContent":["// app/page.tsx\n\"use client\";\nimport { useState, useEffect } from \"react\";\nimport { useSearchParams } from \"next/navigation\";\nimport { loginAs } from \"@/lib/auth\";\n\nexport default function LoginPage() {\n  const searchParams = useSearchParams();\n  const role_from_url = searchParams?.get(\"role\") || \"student\";\n\n  const [role, set_role] = useState<string>(role_from_url);\n  const [id_value, set_id_value] = useState<string>(\"\");\n  const [password, set_password] = useState<string>(\"\");\n  const [loading, set_loading] = useState<boolean>(false);\n  const [error_message, set_error_message] = useState<string>(\"\");\n\n  useEffect(() => {\n    // If URL changes, update default role but keep user changes if they already picked one.\n    set_role(role_from_url);\n  }, [role_from_url]);\n\n  const get_label = (r: string) => {\n    if (r === \"admin\") return \"Admin ID\";\n    if (r === \"lecturer\") return \"Lecturer ID\";\n    return \"Matric No\";\n  };\n\n  const get_input_name = (r: string) => {\n    if (r === \"admin\") return \"admin_id\";\n    if (r === \"lecturer\") return \"lecturer_id\";\n    return \"matric_no\";\n  };\n\n  const handle_submit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (loading) return; // prevent multiple clicks\n\n    // basic client-side validation\n    if (!id_value.trim() || !password.trim()) {\n      set_error_message(\"Please fill in all fields.\");\n      return;\n    }\n\n    set_error_message(\"\");\n    set_loading(true);\n\n    try {\n      // replace this with your real API call\n      await new Promise((resolve) => setTimeout(resolve, 1200));\n\n      // save role locally (your helper)\n      loginAs(role);\n\n      // TODO: redirect to role-based dashboard:\n      // router.push(`/dashboard/${role}`)  <- add if you want automatic redirect\n      console.log(\"Logged in as:\", role, id_value);\n    } catch (err) {\n      console.error(err);\n      set_error_message(\"Something went wrong. Please try again.\");\n    } finally {\n      set_loading(false);\n    }\n  };\n\n  return (\n    <div className=\"flex items-center justify-center min-h-screen bg-[#F9FAFB] p-4\">\n      <div className=\"bg-white p-8 rounded-2xl shadow-lg w-full max-w-md\">\n        <h1 className=\"text-2xl font-bold text-[#0B3D2E] mb-2 text-center\">\n          AFUED {role.charAt(0).toUpperCase() + role.slice(1)} Login\n        </h1>\n        <p className=\"text-sm text-gray-500 mb-4 text-center\">\n          Welcome back! Please enter your details.\n        </p>\n\n        <form onSubmit={handle_submit} className=\"space-y-4\" aria-live=\"polite\">\n          {/* ROLE SELECT (still visible so non-technical users can choose) */}\n          <div>\n            <label className=\"block text-sm text-gray-700 mb-1\">Select Role</label>\n            <select\n              value={role}\n              onChange={(e) => set_role(e.target.value)}\n              className=\"w-full border border-[#D1D5DB] rounded-lg p-2 focus:ring-2 focus:ring-[#0B3D2E] outline-none\"\n            >\n              <option value=\"student\">Student</option>\n              <option value=\"lecturer\">Lecturer</option>\n              <option value=\"admin\">Admin</option>\n            </select>\n          </div>\n\n          {/* DYNAMIC ID FIELD */}\n          <div>\n            <label className=\"block text-sm text-gray-700 mb-1\">{get_label(role)}</label>\n            <input\n              name={get_input_name(role)}\n              type=\"text\"\n              value={id_value}\n              onChange={(e) => set_id_value(e.target.value)}\n              className=\"w-full border border-[#D1D5DB] rounded-lg p-2 focus:ring-2 focus:ring-[#0B3D2E] outline-none\"\n              required\n            />\n          </div>\n\n          {/* PASSWORD */}\n          <div>\n            <label className=\"block text-sm text-gray-700 mb-1\">Password</label>\n            <input\n              name=\"password\"\n              type=\"password\"\n              value={password}\n              onChange={(e) => set_password(e.target.value)}\n              className=\"w-full border border-[#D1D5DB] rounded-lg p-2 focus:ring-2 focus:ring-[#0B3D2E] outline-none\"\n              required\n            />\n          </div>\n\n          {/* ERROR */}\n          {error_message && (\n            <div className=\"text-sm text-red-600\">{error_message}</div>\n          )}\n\n          {/* SUBMIT BUTTON (disabled while loading, shows spinner) */}\n          <button\n            type=\"submit\"\n            disabled={loading}\n            aria-busy={loading}\n            className={`w-full py-2 rounded-lg text-white font-semibold transition flex items-center justify-center gap-2 ${\n              loading ? \"bg-[#0B3D2E]/70 cursor-not-allowed\" : \"bg-[#0B3D2E] hover:bg-[#11543E]\"\n            }`}\n          >\n            {loading ? (\n              <>\n                {/* simple accessible spinner */}\n                <svg\n                  className=\"animate-spin h-5 w-5 text-white\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  aria-hidden=\"true\"\n                >\n                  <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                  <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z\"></path>\n                </svg>\n                <span>Logging in...</span>\n              </>\n            ) : (\n              <span>Login</span>\n            )}\n          </button>\n\n          <p className=\"text-sm text-center text-gray-500 mt-3\">\n            Donâ€™t have an account?{\" \"}\n            <a href=\"/signup\" className=\"text-[#0B3D2E] font-semibold\">\n              Sign up\n            </a>\n          </p>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 354, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 364, "column": 0}, "map": {"version":3,"sources":["file:///home/aloye/Documents/adeyemi_frontend/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0]}},
    {"offset": {"line": 365, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}