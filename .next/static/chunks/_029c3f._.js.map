{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/aloye/Documents/adeyemi_frontend/hooks/useAuth.tsx"],"sourcesContent":["\"use client\";\nimport { useState } from \"react\";\n\nexport default function useAuth() {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const API_ENDPOINT = process.env.NEXT_PUBLIC_API_ENDPOINT;\n\n  const request = async (path: string, data: any) => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      const response = await fetch(`${API_ENDPOINT}/user/${path}`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(data),\n      });\n\n      const result = await response.json();\n\n      if (!response.ok) {\n        throw new Error(result?.message || \"Something went wrong\");\n      }\n      console.log(result)\n\n      return result;\n    } catch (err: any) {\n      setError(err.message || \"Failed to connect\");\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const login = async (payload: any) => request(\"signin\", payload);\n  const signup = async (payload: any) => request(\"signup\", payload);\n\n  return { login, signup, loading, error };\n}\n"],"names":[],"mappings":";;;AACA;AAMuB;;AAPvB;;AAGe,SAAS;;IACtB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAElD,MAAM;IAEN,MAAM,UAAU,OAAO,MAAc;QACnC,WAAW;QACX,SAAS;QAET,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,GAAG,aAAa,MAAM,EAAE,MAAM,EAAE;gBAC3D,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;YACvB;YAEA,MAAM,SAAS,MAAM,SAAS,IAAI;YAElC,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM,QAAQ,WAAW;YACrC;YACA,QAAQ,GAAG,CAAC;YAEZ,OAAO;QACT,EAAE,OAAO,KAAU;YACjB,SAAS,IAAI,OAAO,IAAI;YACxB,MAAM;QACR,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,QAAQ,OAAO,UAAiB,QAAQ,UAAU;IACxD,MAAM,SAAS,OAAO,UAAiB,QAAQ,UAAU;IAEzD,OAAO;QAAE;QAAO;QAAQ;QAAS;IAAM;AACzC;GArCwB"}},
    {"offset": {"line": 57, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///home/aloye/Documents/adeyemi_frontend/lib/auth.ts"],"sourcesContent":["// lib/auth.ts\nexport function loginAs(role: string, token: string, name : string, matric_no: string) {\n  localStorage.setItem(\"role\", role);\n  localStorage.setItem(\"access_token\", token)\n  localStorage.setItem(\"name\", name)\n  localStorage.setItem(\"matric_no\", matric_no || \"MAT/23__MOCK__\")\n\n\n\n\n  // window.location.href = \"/dashboard\";\n}\n\nexport function getUserRole() {\n  return localStorage.getItem(\"role\");\n}\n\nexport function logout() {\n  localStorage.removeItem(\"role\");\n  window.location.href = \"/\";\n}\n"],"names":[],"mappings":"AAAA,cAAc;;;;;;AACP,SAAS,QAAQ,IAAY,EAAE,KAAa,EAAE,IAAa,EAAE,SAAiB;IACnF,aAAa,OAAO,CAAC,QAAQ;IAC7B,aAAa,OAAO,CAAC,gBAAgB;IACrC,aAAa,OAAO,CAAC,QAAQ;IAC7B,aAAa,OAAO,CAAC,aAAa,aAAa;AAK/C,uCAAuC;AACzC;AAEO,SAAS;IACd,OAAO,aAAa,OAAO,CAAC;AAC9B;AAEO,SAAS;IACd,aAAa,UAAU,CAAC;IACxB,OAAO,QAAQ,CAAC,IAAI,GAAG;AACzB"}},
    {"offset": {"line": 86, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 92, "column": 0}, "map": {"version":3,"sources":["file:///home/aloye/Documents/adeyemi_frontend/hooks/useNotification.tsx"],"sourcesContent":["'use client';\n\nimport { useContext } from 'react';\nimport { NotificationContext } from '../context/NotificationContext';\n\nexport const useNotifications = () => {\n  const context = useContext(NotificationContext);\n  if (!context) {\n    throw new Error('useNotifications must be used within NotificationContextProvider');\n  }\n  return context;\n};"],"names":[],"mappings":";;;AAEA;AACA;;AAHA;;;AAKO,MAAM,mBAAmB;;IAC9B,MAAM,UAAU,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE,kIAAA,CAAA,sBAAmB;IAC9C,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;GANa"}},
    {"offset": {"line": 113, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 119, "column": 0}, "map": {"version":3,"sources":["file:///home/aloye/Documents/adeyemi_frontend/app/signup/page.tsx"],"sourcesContent":["\"use client\";\nimport { useState, useEffect } from \"react\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport useAuth from \"@/hooks/useAuth\";\nimport { loginAs } from \"@/lib/auth\";\nimport { useNotifications } from \"@/hooks/useNotification\";\n\nexport default function SignupPage() {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const { signup, loading, error } = useAuth();\n  const { addNotification } = useNotifications();\n\n  const [form, set_form] = useState({\n    id_value: \"\",\n    password: \"\",\n    role: \"lecturer\",\n  });\n\n  const [error_message, set_error_message] = useState(\"\");\n\n  useEffect(() => {\n    const roleFromUrl = searchParams.get(\"role\");\n    if (roleFromUrl && [\"lecturer\", \"admin\"].includes(roleFromUrl)) {\n      set_form((prev) => ({ ...prev, role: roleFromUrl }));\n    }\n  }, [searchParams]);\n\n  const get_label = (r: string) => {\n    if (r === \"admin\") return \"Admin ID\";\n    if (r === \"lecturer\") return \"Lecturer ID\";\n    return \"Matric No\";\n  };\n\n  const handle_change = (\n    e: React.ChangeEvent<HTMLInputElement | HTMLSelectElement>\n  ) => {\n    set_form({ ...form, [e.target.name]: e.target.value });\n  };\n\n  const handle_submit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (loading) return;\n\n    if (!form.id_value.trim() || !form.password.trim()) {\n      set_error_message(\"Please fill in all fields.\");\n      return;\n    }\n\n    set_error_message(\"\");\n\n    try {\n      const payload = {\n        id_value: form.id_value,\n        password: form.password,\n        role: form.role,\n      };\n\n      const data = await signup(payload);\n\n      // Save session\n      loginAs(\n        data?.user.role || \"user\",\n        data?.user?.token,\n        data?.user?.name,\n        data?.user?.id || form.id_value\n      );\n\n      // Redirect after signup\n      switch (data?.user.role) {\n        case \"lecturer\":\n          router.push(\"/dashboard/lecturer\");\n          break;\n        case \"admin\":\n          router.push(\"/dashboard/admin\");\n          break;\n        default:\n          router.push(\"/\");\n          break;\n      }\n    } catch (err) {\n      console.error(err);\n      addNotification({ message: error || \"Signup failed\", variant: \"error\" });\n      error && set_error_message(error);\n    }\n  };\n\n  return (\n    <div className=\"flex items-center justify-center min-h-screen bg-[#F9FAFB] p-4\">\n      <div className=\"bg-white p-8 rounded-2xl shadow-lg w-full max-w-md\">\n        {/* HEADER */}\n        <div className=\"flex flex-col items-center mb-6\">\n          <img\n            src=\"/logo.png\"\n            alt=\"AFUED Logo\"\n            className=\"w-16 h-16 mb-2 rounded-full\"\n          />\n          <h1 className=\"text-2xl font-bold text-[#0B3D2E] text-center\">\n            AFUED {form.role.charAt(0).toUpperCase() + form.role.slice(1)} Signup\n          </h1>\n          <p className=\"text-sm text-gray-500 text-center mt-1\">\n            Create an account to access the AFUED Portal\n          </p>\n        </div>\n\n        <form onSubmit={handle_submit} className=\"space-y-4\">\n          {/* ROLE SELECT */}\n          <div>\n            <label className=\"block text-sm text-gray-700 mb-1\">Role</label>\n            <select\n              name=\"role\"\n              value={form.role}\n              onChange={handle_change}\n              className=\"w-full border border-[#D1D5DB] rounded-lg p-2 focus:ring-2 focus:ring-[#0B3D2E] outline-none\"\n            >\n              <option value=\"lecturer\">Lecturer</option>\n              <option value=\"admin\">Admin</option>\n            </select>\n          </div>\n\n          {/* ID FIELD */}\n          <div>\n            <label className=\"block text-sm text-gray-700 mb-1\">\n              {get_label(form.role)}\n            </label>\n            <input\n              name=\"id_value\"\n              type=\"text\"\n              value={form.id_value}\n              onChange={handle_change}\n              placeholder={`Enter your ${get_label(form.role)}`}\n              className=\"w-full border border-[#D1D5DB] rounded-lg p-2 focus:ring-2 focus:ring-[#0B3D2E] outline-none\"\n            />\n          </div>\n\n          {/* PASSWORD FIELD */}\n          <div>\n            <label className=\"block text-sm text-gray-700 mb-1\">Password</label>\n            <input\n              name=\"password\"\n              type=\"password\"\n              value={form.password}\n              onChange={handle_change}\n              placeholder=\"Enter your password\"\n              className=\"w-full border border-[#D1D5DB] rounded-lg p-2 focus:ring-2 focus:ring-[#0B3D2E] outline-none\"\n            />\n          </div>\n\n          {/* ERROR MESSAGE */}\n          {(error_message || error) && (\n            <div className=\"text-sm text-red-600\">\n              {error_message || error}\n            </div>\n          )}\n\n          {/* SUBMIT BUTTON */}\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className={`w-full py-2 rounded-lg text-white font-semibold transition flex items-center justify-center gap-2 ${\n              loading\n                ? \"bg-[#0B3D2E]/70 cursor-not-allowed\"\n                : \"bg-[#0B3D2E] hover:bg-[#11543E]\"\n            }`}\n          >\n            {loading ? (\n              <>\n                <svg\n                  className=\"animate-spin h-5 w-5 text-white\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <circle\n                    className=\"opacity-25\"\n                    cx=\"12\"\n                    cy=\"12\"\n                    r=\"10\"\n                    stroke=\"currentColor\"\n                    strokeWidth=\"4\"\n                  ></circle>\n                  <path\n                    className=\"opacity-75\"\n                    fill=\"currentColor\"\n                    d=\"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z\"\n                  ></path>\n                </svg>\n                <span>Signing up...</span>\n              </>\n            ) : (\n              <span>Sign Up</span>\n            )}\n          </button>\n\n          {/* FOOTER LINK */}\n          <p className=\"text-sm text-center text-gray-500 mt-3\">\n            Already have an account?{\" \"}\n            <a href=\"/\" className=\"text-[#0B3D2E] font-semibold\">\n              Login\n            </a>\n          </p>\n        </form>\n\n        {/* FOOTER */}\n        <footer className=\"text-center text-xs text-gray-400 mt-6\">\n          © {new Date().getFullYear()} AFUED Portal — All Rights Reserved\n        </footer>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 493, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 503, "column": 0}, "map": {"version":3,"sources":["file:///home/aloye/Documents/adeyemi_frontend/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0]}},
    {"offset": {"line": 504, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}